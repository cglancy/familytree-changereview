<div class="popover-scaffolding">
  <script id="fsPersonPopover.html" type="text/ng-template">
    <div style="background-color: #fff">
        <div class="cardFrame">
            <div class="content">
                <div class="profile-image"></div>
                <div class="person clearfix">

                    <div class="nameWrapper">
                        <i class="icon-rounded" ng-class="{'fs-icon-male': person._isMale(), 'fs-icon-female': !person._isMale()}">&nbsp;</i>
                        <a ng-href="{{personHref}}" class="male personcard name widgetAction">{{person.$getDisplayName()}}</a><br />
                        <span class="pid">{{person.id}}</span>
                    </div>

                    <div class="clearfix">&nbsp;</div>
                  <!-- watch isn't available through the api
                    <div class="engageWatch gadget watchGadget">
                        <a class="watch notwatching" href="" title="Be notified of updates to this person and add to my watch list.">
                            <span class="watchLabel fs-icon-watch-off" title="Be notified of updates to this person and add to my watch list.">Watch</span>
                            <span class="unwatchLabel fs-icon-watch-on" title="Stop being notified of updates to this person and remove from my watch list.">Unwatch</span>
                            <span class="unavailableLabel fs-icon-watch-disabled" title="Service is temporarily unavailable.">Watch</span>
                        </a>
                    </div>
                    -->
                </div>

                <table class="eventTable">
                    <tbody>
                    <tr class="event birth">
                        <th>Birth</th>

                        <td>
                            <div class="date ellipses-text" title="{{person.$getBirth() ? 'Standard: '+person.$getBirth().$getNormalizedDate() : ''}}">
                              {{person.$getDisplayBirthDate()}}
                            </div>

                            <div class="ellipses-text">
                                <div class="place" title="{{person.$getBirth() ? 'Standard: '+person.$getBirth().$getNormalizedPlace() : ''}}">
                                    {{person.$getDisplayBirthPlace()}}
                                </div>
                            </div>
                        </td>
                    </tr>

                    <tr class="event death">
                        <th>Death</th>
                        <td>
                            <div class="date ellipses-text" title="{{person.living ? 'Living' : (person.$getDeath() ? 'Standard: '+person.$getDeath().$getNormalizedDate() : '')}}">
                                {{person.living ? 'Living' : person.$getDisplayDeathDate()}}
                            </div>
                            <div class="ellipses-text">
                                <div class="place" title="{{person.$getDeath() ? 'Standard: '+person.$getDeath().$getNormalizedPlace() : ''}}">
                                  {{person.$getDisplayDeathPlace()}}
                                </div>
                            </div>
                        </td>
                    </tr>
                    </tbody>

                    <tbody class="engageStatus">
                    <tr>
                        <th></th>

                        <td class="sections" colspan="2">
                            <ul class="clearfix">
                                <li class="sources-label">
                                  <span class="badge">{{sourcesCount}}</span>
                                  <span ng-pluralize count="sourcesCount" when="{'1': 'Source', 'other': 'Sources'}"></span>
                                </li>
                                <li class="discussions-label">
                                  <span class="badge">{{discussionsCount}}</span>
                                  <span ng-pluralize count="discussionsCount" when="{'1': 'Discussion', 'other': 'Discussions'}"></span>
                                </li>
                            </ul>
                        </td>
                    </tr>


                    </tbody>
                </table>
            </div>
            <div class="buttonBarBG"></div>
            <div class="actionBar">
                <a class="details widgetAction" ng-href="{{treeHref}}" ><i class="fs-icon-pedigree">&nbsp;</i>Tree</a>
                <a class="details widgetAction" ng-href="{{personHref}}"><i ng-class="{'fs-icon-male': person._isMale(), 'fs-icon-female': !person._isMale()}">&nbsp;</i>Person</a>
            </div>
        </div>


    </div>
  </script>
  <div class="nestedPopover" tabindex="0" popover-trigger="focus" ng-focus="focus()"
       popover-placement="{{popoverPlacement || 'top'}}" popover-template="fsPersonPopover.html" popover-append-to-body="true"
       style="outline-width: 0" class="popover-scaffolding">
    <div ng-transclude class="popover-scaffolding"></div>
  </div>
</div>
